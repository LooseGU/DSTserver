local _IcCL = require "widgets/widget" local _s0cl = require "widgets/image" local _aLDq = require "widgets/text" local _5Atq = require "widgets/screen" local _qp5E = require "widgets/button" local _MYFp = require "widgets/spinner" local _7szI = {} local function _WRnY() return TheSim:GetGameID() == "DST" end local function _erui() if _WRnY() then return ThePlayer else return GetPlayer() end end local function _GQUd() if _WRnY() then return TheWorld else return GetWorld() end end local _Sy3w = function() local _iu9z, sh = TheSim:GetScreenSize() return _iu9z / 0x780 end local _wfUf = function() return TheSim:GetScreenPos(TheInput:GetWorldPosition():Get()) end local _u08U = function(_GnN9, _BDzs, _xOlN, _gkTJ) return {r = _GnN9 or 0x1, g = _BDzs or 0x1, b = _xOlN or 0x1, a = _gkTJ or 0x1, Get = function(_F2Vn) return _F2Vn.r, _F2Vn.g, _F2Vn.b, _F2Vn.a end, } end local _4jhM = function(_tamQ, _7iEo, _sJLt) return _tamQ + (_7iEo - _tamQ) * _sJLt end local function _dUMo(_9K8D, _iwsl) if _iwsl == nil then _iwsl = "%s" end local _wkKB = {} local _eVZx = 0x1 for _faQA in string.gmatch(_9K8D, "([^".._iwsl.."]+)" ) do _wkKB[_eVZx] = _faQA _eVZx = _eVZx + 0x1 end return _wkKB end local _rSvp = function(_k7uG, _JAGU) for _pHot, _lOE7 in pairs(_k7uG) do if _lOE7 == _JAGU then return true end end return false end local _RauW = function(_IckH, _Tonc) if not _rSvp(_IckH, _Tonc) then table.insert(_IckH, _Tonc) end end local _el7q = function(_pSsl, _bWM5) for _OZmH, _HFlB in pairs(_pSsl) do if _HFlB == _bWM5 then return _OZmH end end end local _GTTr = function(_yIRi, _XWWu) local _mEQe = _el7q(_yIRi, _XWWu) if _mEQe then table.remove(_yIRi, _mEQe) end end local _J7eC = Class(_IcCL, function(_vs55, _yyiT) _IcCL._ctor(_vs55, "DYC_Root" ) _vs55.keepTop = _yyiT.keepTop _vs55.moveLayerTimer = 0x0 if _yyiT.keepTop then _vs55:StartUpdating() end end) function _J7eC:OnUpdate(_0Man) _0Man = _0Man or 0x0 self.moveLayerTimer = self.moveLayerTimer + _0Man if self.keepTop and self.moveLayerTimer > 0.5 then self.moveLayerTimer = 0x0 self:MoveToFront() end end _7szI.Root = _J7eC local _cVFv = Class(_aLDq, function(_BQ1R, _bkyo, _9rSj, _jh7J, _BTgo) if _bkyo and type(_bkyo) == "table" then local _XY29 = _bkyo _aLDq._ctor(_BQ1R, _XY29.font or NUMBERFONT, _XY29.fontSize or 0x1e, _XY29.text) if _XY29.color then local _z8rk = _XY29.color _BQ1R:SetColor(_z8rk.r or _z8rk[0x1] or 0x1, _z8rk.g or _z8rk[0x2] or 0x1, _z8rk.b or _z8rk[0x3] or 0x1, _z8rk.a or _z8rk[0x4] or 0x1) end if _XY29.regionSize then _BQ1R:SetRegionSize(_XY29.regionSize.w, _XY29.regionSize.h) end _BQ1R.alignH = _XY29.alignH _BQ1R.alignV = _XY29.alignV _BQ1R.focusFn = _XY29.focusFn _BQ1R.unfocusFn = _XY29.unfocusFn _BQ1R.hittest = _XY29.hittest else _aLDq._ctor(_BQ1R, _bkyo or NUMBERFONT, _9rSj or 0x1e, _jh7J) _BQ1R.hittest = _BTgo if _jh7J then _BQ1R:SetText(_jh7J) end end end) function _cVFv:GetImage() if not self.image then self.image = self:AddChild(_s0cl( "images/ui.xml" , "button.tex" )) self.image:MoveToBack() self.image:SetTint(0x0, 0x0, 0x0, 0x0) end return self.image end function _cVFv:SetText(_WIsB) local _8uM3 = self:GetWidth() local _fxAl = self:GetHeight() local _4Q5h = self:GetPosition() self:SetString(_WIsB) if self.alignH and self.alignH ~= ANCHOR_MIDDLE then local _P9JS = self:GetWidth() _4Q5h.x = _4Q5h.x + (_P9JS - _8uM3) / 0x2 * (self.alignH == ANCHOR_LEFT and 0x1 or - 0x1) end if self.alignV and self.alignV ~= ANCHOR_MIDDLE then local _PAWt = self:GetHeight() _4Q5h.y = _4Q5h.y + (_PAWt - _fxAl) / 0x2 * (self.alignV == ANCHOR_BOTTOM and 0x1 or - 0x1) end if self.alignH or self.alignV then self:SetPosition(_4Q5h) end if self.hittest then self:GetImage():SetSize(self:GetSize()) end end function _cVFv:SetColor(...) self:SetColour(...) end function _cVFv:GetWidth() local _PrHN, h = self:GetRegionSize() _PrHN = _PrHN < 0x2710 and _PrHN or 0x0 return _PrHN end function _cVFv:GetHeight() local _X1rd, h = self:GetRegionSize() h = h < 0x2710 and h or 0x0 return h end function _cVFv:GetSize() local _2nCA, h = self:GetRegionSize() _2nCA = _2nCA < 0x2710 and _2nCA or 0x0 h = h < 0x2710 and h or 0x0 return _2nCA, h end function _cVFv:OnGainFocus() _cVFv._base.OnGainFocus(self) if self.focusFn then self.focusFn(self) end end function _cVFv:OnLoseFocus() _cVFv._base.OnLoseFocus(self) if self.unfocusFn then self.unfocusFn(self) end end function _cVFv:AnimateIn(_9rkY) self.textString = self.string self.animSpeed = _9rkY or 0x3c self.animIndex = 0x0 self.animTimer = 0x0 self:SetText( "" ) self:StartUpdating() end function _cVFv:OnUpdate(_FdDe) _FdDe = _FdDe or 0x0 if _cVFv._base.OnUpdate then _cVFv._base.OnUpdate(self, _FdDe) end if _FdDe > 0x0 and self.animIndex and self.textString and #self.textString > 0x0 then self.animTimer = self.animTimer + _FdDe if self.animTimer > 0x1 / self.animSpeed then self.animTimer = 0x0 self.animIndex = self.animIndex + 0x1 if self.animIndex > #self.textString then self.animIndex = nil self:SetText(self.textString) else local _t5th = string.byte(string.sub(self.textString, self.animIndex, self.animIndex)) if _t5th and _t5th > 0x7f then self.animIndex = self.animIndex + 0x2 end self:SetText(string.sub(self.textString, 0x1, self.animIndex)) end end end end _7szI.Text = _cVFv local _2VuA = Class(_IcCL, function(_yJFv, _W9VR) _IcCL._ctor(_yJFv, "DYC_SlicedImage" ) _yJFv.images = {} _yJFv.mode = "slice13" _yJFv.texScale = _W9VR.texScale or 0x1 _yJFv.width = 0x64 _yJFv.height = 0x64 _yJFv:SetTextures(_W9VR) end) function _2VuA:__tostring() return string.format( "%s (%s)" , self.name, self.mode) end function _2VuA:SetTextures(_W9go) assert(_W9go.mode) self.images = {} self.mode = _W9go.mode if self.mode == "slice13" or self.mode == "slice31" then local _fwsQ = nil _fwsQ = self:AddChild(_s0cl(_W9go.atlas, _W9go.texname.."_1.tex" )) _fwsQ.oriW, _fwsQ.oriH = _fwsQ:GetSize() _fwsQ.imgPos = 0x1 self.images[0x1] = _fwsQ _fwsQ = self:AddChild(_s0cl(_W9go.atlas, _W9go.texname.."_2.tex" )) _fwsQ.oriW, _fwsQ.oriH = _fwsQ:GetSize() _fwsQ.imgPos = 0x2 self.images[0x2] = _fwsQ _fwsQ = self:AddChild(_s0cl(_W9go.atlas, _W9go.texname.."_3.tex" )) _fwsQ.oriW, _fwsQ.oriH = _fwsQ:GetSize() _fwsQ.imgPos = 0x3 self.images[0x3] = _fwsQ if self.mode == "slice13" then assert(self.images[0x1].oriH == self.images[0x3].oriH, "Height must be equal!" ) assert(self.images[0x1].oriH == self.images[0x2].oriH, "Height must be equal!" ) else assert(self.images[0x1].oriW == self.images[0x3].oriW, "Width must be equal!" ) assert(self.images[0x1].oriW == self.images[0x2].oriW, "Width must be equal!" ) end return elseif self.mode == "slice33" then local _oFix = nil for _YVmL = 0x1, 0x3 do for _7S9T = 0x1, 0x3 do _oFix = self:AddChild(_s0cl(_W9go.atlas, _W9go.texname.."_".._YVmL.._7S9T..".tex" )) _oFix.oriW, _oFix.oriH = _oFix:GetSize() _oFix.imgPos = _YVmL * 0xa + _7S9T self.images[_YVmL * 0xa + _7S9T] = _oFix if _YVmL > 0x1 then assert(self.images[_YVmL * 0xa + _7S9T].oriW == self.images[(_YVmL - 0x1) * 0xa + _7S9T].oriW, "Width must be equal!" ) end if _7S9T > 0x1 then assert(self.images[_YVmL * 0xa + _7S9T].oriH == self.images[_YVmL * 0xa + _7S9T - 0x1].oriH, "Height must be equal!" ) end end end return end error( "Mode not supported!" ) self:SetSize() end function _2VuA:SetSize(_7AUc, _H0Ps) _7AUc = _7AUc or self.width _H0Ps = _H0Ps or self.height if self.mode == "slice13" then local _SgN9 = self.images[0x1] local _FDbG = self.images[0x2] local _7p86 = self.images[0x3] local _MM2x = math.min(self.texScale, math.min(_7AUc / (_SgN9.oriW + _7p86.oriW), _H0Ps / _SgN9.oriH)) local _M6MM = _SgN9.oriW * _MM2x local _x3ye = _7p86.oriW * _MM2x local _9bUw = math.max(0x0, _7AUc - _M6MM - _x3ye) _SgN9:SetSize(_M6MM, _H0Ps) _FDbG:SetSize(_9bUw, _H0Ps) _7p86:SetSize(_x3ye, _H0Ps) local _odQo = (_M6MM - _x3ye) / 0x2 local _Q98h = - _M6MM / 0x2 - _9bUw / 0x2 + _odQo local _1i1v = _x3ye / 0x2 + _9bUw / 0x2 + _odQo _SgN9:SetPosition(_Q98h, 0x0, 0x0) _FDbG:SetPosition(_odQo, 0x0, 0x0) _7p86:SetPosition(_1i1v, 0x0, 0x0) self.width = _M6MM + _9bUw + _x3ye self.height = _H0Ps elseif self.mode == "slice31" then local _TQOR = self.images[0x1] local _Tdhu = self.images[0x2] local _HwzL = self.images[0x3] local _od5Z = math.min(self.texScale, math.min(_H0Ps / (_TQOR.oriH + _HwzL.oriH), _7AUc / _TQOR.oriW)) local _SJaE = _TQOR.oriH * _od5Z local _SPr4 = _HwzL.oriH * _od5Z local _JTpN = math.max(0x0, _H0Ps - _SJaE - _SPr4) _TQOR:SetSize(_7AUc, _SJaE) _Tdhu:SetSize(_7AUc, _JTpN) _HwzL:SetSize(_7AUc, _SPr4) local _OVFE = (_SJaE - _SPr4) / 0x2 local _er2Q = - _SJaE / 0x2 - _JTpN / 0x2 + _OVFE local _oQv5 = _SPr4 / 0x2 + _JTpN / 0x2 + _OVFE _TQOR:SetPosition(0x0, _er2Q, 0x0) _Tdhu:SetPosition(0x0, _OVFE, 0x0) _HwzL:SetPosition(0x0, _oQv5, 0x0) self.height = _SJaE + _JTpN + _SPr4 self.width = _7AUc elseif self.mode == "slice33" then local _4zY1 = self.images local _NfaN = math.min(self.texScale, math.min(_7AUc / (_4zY1[0xb].oriW + _4zY1[0xd].oriW), _H0Ps / (_4zY1[0xb].oriH + _4zY1[0x1f].oriH))) local _djys, hs, xs, ys = {}, {}, {}, {} _djys[0x1] = _4zY1[0xb].oriW * _NfaN _djys[0x3] = _4zY1[0xd].oriW * _NfaN _djys[0x2] = math.max(0x0, _7AUc - _djys[0x1] - _djys[0x3]) hs[0x1] = _4zY1[0xb].oriH * _NfaN hs[0x3] = _4zY1[0x1f].oriH * _NfaN hs[0x2] = math.max(0x0, _H0Ps - hs[0x1] - hs[0x3]) xs[0x2] = (_djys[0x1] - _djys[0x3]) / 0x2 xs[0x1] = - _djys[0x1] / 0x2 - _djys[0x2] / 0x2 + xs[0x2] xs[0x3] = _djys[0x3] / 0x2 + _djys[0x2] / 0x2 + xs[0x2] ys[0x2] = (hs[0x1] - hs[0x3]) / 0x2 ys[0x1] = - hs[0x1] / 0x2 - hs[0x2] / 0x2 + ys[0x2] ys[0x3] = hs[0x3] / 0x2 + hs[0x2] / 0x2 + ys[0x2] for _hxMe = 0x1, 0x3 do for _yUi9 = 0x1, 0x3 do _4zY1[_hxMe * 0xa + _yUi9]:SetSize(_djys[_yUi9], hs[_hxMe]) _4zY1[_hxMe * 0xa + _yUi9]:SetPosition(xs[_yUi9], ys[_hxMe], 0x0) end end self.width = _djys[0x1] + _djys[0x2] + _djys[0x3] self.height = hs[0x1] + hs[0x2] + hs[0x3] end end function _2VuA:GetSize() return self.width, self.height end function _2VuA:SetTint(_XDQW, _15G7, _koKc, _oeJs) for _1AqD, _TMJF in pairs(self.images) do _TMJF:SetTint(_XDQW, _15G7, _koKc, _oeJs) end end function _2VuA:SetClickable(_xnwQ) for _OYsE, _HviA in pairs(self.images) do _HviA:SetClickable(_xnwQ) end end _7szI.SlicedImage = _2VuA local _TcaS = Class(_MYFp, function(_IcCY, _Ived, _Ytn7, _DPql, _4kyN, _IZsw, _6fF2, _6iJY) _MYFp._ctor(_IcCY, _Ived, _Ytn7, _DPql, _4kyN, _IZsw, _6fF2, _6iJY, true) _IcCY.bgDYC = _IcCY:AddChild(_s0cl( "images/dyc_white.xml" , "dyc_white.tex" )) _IcCY.bgDYC:SetTint(0x0, 0x0, 0x0, 0.1) _IcCY.bgDYC:SetSize(_IcCY.width, _IcCY.height) _IcCY.bgDYC:MoveToBack() end) function _TcaS:GetSelectedHint() return self.options[self.selectedIndex].hint or "" end function _TcaS:SetSelected(_zH4Q, _jU6b) if _zH4Q == nil and _jU6b ~= nil then return self:SetSelected(_jU6b) end for _jt2v, _Kub1 in pairs(self.options) do if _Kub1.data == _zH4Q then self:SetSelectedIndex(_jt2v) return true end end if _jU6b then return self:SetSelected(_jU6b) else return false end end function _TcaS:SetSelectedIndex(_f6GI, ...) _TcaS._base.SetSelectedIndex(self, _f6GI, ...) if self.setSelectedIndexFn then self.setSelectedIndexFn(self) end end function _TcaS:OnGainFocus() _TcaS._base.OnGainFocus(self) if self.focusFn then self.focusFn(self) end end function _TcaS:OnLoseFocus() _TcaS._base.OnLoseFocus(self) if self.unfocusFn then self.unfocusFn(self) end end function _TcaS:OnMouseButton(_NxjT, _Tg2D, _0lgQ, _UyI5, ...) _TcaS._base.OnMouseButton(self, _NxjT, _Tg2D, _0lgQ, _UyI5, ...) if not _Tg2D and _NxjT == MOUSEBUTTON_LEFT then if self.mouseLeftUpFn then self.mouseLeftUpFn(self) end end if not self.focus then return false end if _Tg2D and _NxjT == MOUSEBUTTON_LEFT then if self.mouseLeftDownFn then self.mouseLeftDownFn(self) end end end _7szI.Spinner = _TcaS local _UJbj = Class(_qp5E, function(_oxEp, _77VL) _qp5E._ctor(_oxEp, "DYC_ImageButton" ) _77VL = _77VL or {} local _eNX9, normal, focus, disabled = _77VL.atlas, _77VL.normal, _77VL.focus, _77VL.disabled _eNX9 = _eNX9 or "images/ui.xml" normal = normal or "button.tex" focus = focus or "button_over.tex" disabled = disabled or "button_disabled.tex" _oxEp.width = _77VL.width or 0x64 _oxEp.height = _77VL.height or 0x1e _oxEp.screenScale = 0.9999 _oxEp.moveLayerTimer = 0x0 _oxEp.followScreenScale = _77VL.followScreenScale _oxEp.draggable = _77VL.draggable if _77VL.draggable then _oxEp.clickoffset = Vector3(0x0, 0x0, 0x0) end _oxEp.dragging = false _oxEp.draggingTimer = 0x0 _oxEp.draggingPos = {x = 0x0, y = 0x0} _oxEp.keepTop = _77VL.keepTop _oxEp.image = _oxEp:AddChild(_s0cl()) _oxEp.image:MoveToBack() _oxEp.atlas = _eNX9 _oxEp.image_normal = normal _oxEp.image_focus = focus or normal _oxEp.image_disabled = disabled or normal _oxEp.color_normal = _77VL.colornormal or _u08U(0x1, 0.6, 0.45) _oxEp.color_focus = _77VL.colorfocus or _u08U(0x1, 0.6, 0.45) _oxEp.color_disabled = _77VL.colordisabled or _u08U(0x1, 0.6, 0.45) if _77VL.cb then _oxEp:SetOnClick(_77VL.cb) end if _77VL.text then _oxEp:SetText(_77VL.text) _oxEp:SetFont(_77VL.font or NUMBERFONT) _oxEp:SetTextSize(_77VL.fontSize or _oxEp.height * 0.75) local _Lalc, g, b, a = 0x1, 0x1, 0x1, 0x1 if _77VL.textColor then _Lalc = _77VL.textColor.r; g = _77VL.textColor.g; b = _77VL.textColor.b; a = _77VL.textColor.a end _oxEp:SetTextColour(_Lalc, g, b, a) end _oxEp:SetTexture(_oxEp.atlas, _oxEp.image_normal) _oxEp:StartUpdating() end) function _UJbj:SetSize(_yl6d, _1Dl7) _yl6d = _yl6d or self.width; _1Dl7 = _1Dl7 or self.height self.width = _yl6d; self.height = _1Dl7 self.image:SetSize(self.width, self.height) end function _UJbj:GetSize() return self.image:GetSize() end function _UJbj:SetTexture(_mmKm, _WfhG) self.image:SetTexture(_mmKm, _WfhG) self:SetSize() local _4wuq = self.color_normal self.image:SetTint(_4wuq.r, _4wuq.g, _4wuq.b, _4wuq.a) end function _UJbj:SetTextures(_34VW, _urym, _yheT, _nGHI) local _M8sU = false if not _34VW then _34VW = _34VW or "images/frontend.xml" _urym = _urym or "button_long.tex" _yheT = _yheT or "button_long_halfshadow.tex" _nGHI = _nGHI or "button_long_disabled.tex" _M8sU = true end self.atlas = _34VW self.image_normal = _urym self.image_focus = _yheT or _urym self.image_disabled = _nGHI or _urym if self:IsEnabled() then if self.focus then self:OnGainFocus() else self:OnLoseFocus() end else self:OnDisable() end end function _UJbj:OnGainFocus() _UJbj._base.OnGainFocus(self) if self:IsEnabled() then self:SetTexture(self.atlas, self.image_focus) local _lGcV = self.color_focus self.image:SetTint(_lGcV.r, _lGcV.g, _lGcV.b, _lGcV.a) end if self.image_focus == self.image_normal then self.image:SetScale(1.2, 1.2, 1.2) end if self.focusFn then self.focusFn(self) end end function _UJbj:OnLoseFocus() _UJbj._base.OnLoseFocus(self) if self:IsEnabled() then self:SetTexture(self.atlas, self.image_normal) local _xJZ9 = self.color_normal self.image:SetTint(_xJZ9.r, _xJZ9.g, _xJZ9.b, _xJZ9.a) end if self.image_focus == self.image_normal then self.image:SetScale(0x1, 0x1, 0x1) end if self.unfocusFn then self.unfocusFn(self) end end function _UJbj:OnMouseButton(_Grep, _P5jD, _AkSK, _e8Jf, ...) _UJbj._base.OnMouseButton(self, _Grep, _P5jD, _AkSK, _e8Jf, ...) if not _P5jD and _Grep == MOUSEBUTTON_LEFT and self.dragging then self.dragging = false if self.dragEndFn then self.dragEndFn(self) end end if not self.focus then return false end if self.draggable and _Grep == MOUSEBUTTON_LEFT then if _P5jD then self.dragging = true self.draggingPos.x = _AkSK self.draggingPos.y = _e8Jf end end end function _UJbj:OnControl(_h19q, _HI36, ...) if self.draggingTimer <= 0.3 then if _UJbj._base.OnControl(self, _h19q, _HI36, ...) then self:StartUpdating() return true end self:StartUpdating() end if not self:IsEnabled() or not self.focus then return end end function _UJbj:Enable() _UJbj._base.Enable(self) self:SetTexture(self.atlas, self.focus and self.image_focus or self.image_normal) local _eJew = self.focus and self.color_focus or self.color_normal self.image:SetTint(_eJew.r, _eJew.g, _eJew.b, _eJew.a) if self.image_focus == self.image_normal then if self.focus then self.image:SetScale(1.2, 1.2, 1.2) else self.image:SetScale(0x1, 0x1, 0x1) end end end function _UJbj:Disable() _UJbj._base.Disable(self) self:SetTexture(self.atlas, self.image_disabled) local _1ayU = self.color_disabled or self.color_normal self.image:SetTint(_1ayU.r, _1ayU.g, _1ayU.b, _1ayU.a) end function _UJbj:OnUpdate(_CzQh) _CzQh = _CzQh or 0x0 local _cZds = _Sy3w() if self.followScreenScale and _cZds ~= self.screenScale then self:SetScale(_cZds) local _xdiB = self:GetPosition() _xdiB.x = _xdiB.x * _cZds / self.screenScale _xdiB.y = _xdiB.y * _cZds / self.screenScale self.o_pos = _xdiB self:SetPosition(_xdiB) self.screenScale = _cZds end if self.draggable and self.dragging then self.draggingTimer = self.draggingTimer + _CzQh local _qRQm, y = _wfUf() local _67NF = _qRQm - self.draggingPos.x local _KJB7 = y - self.draggingPos.y self.draggingPos.x = _qRQm; self.draggingPos.y = y local _xikf = self:GetPosition() _xikf.x = _xikf.x + _67NF; _xikf.y = _xikf.y + _KJB7 self.o_pos = _xikf self:SetPosition(_xikf) end if not self.dragging then self.draggingTimer = 0x0 end self.moveLayerTimer = self.moveLayerTimer + _CzQh if self.keepTop and self.moveLayerTimer > 0.5 then self.moveLayerTimer = 0x0 self:MoveToFront() end end _7szI.ImageButton = _UJbj local _0WLz = Class(_IcCL, function(_V7iP) _IcCL._ctor(_V7iP, "DYC_Window" ) _V7iP.width = 0x190 _V7iP.height = 0x12c _V7iP.paddingX = 0x28 _V7iP.paddingY = 0x2a _V7iP.screenScale = 0.9999 _V7iP.currentLineY = 0x0 _V7iP.currentLineX = 0x0 _V7iP.lineHeight = 0x23 _V7iP.lineSpacingX = 0xa _V7iP.lineSpacingY = 0x3 _V7iP.fontSize = _V7iP.lineHeight * 0.9 _V7iP.font = NUMBERFONT _V7iP.titleFontSize = 0x28 _V7iP.titleFont = NUMBERFONT _V7iP.titleColor = _u08U(0x1, 0.7, 0.4) _V7iP.draggable = true _V7iP.dragging = false _V7iP.draggingPos = {x = 0x0, y = 0x0} _V7iP.draggableChildren = {} _V7iP.moveLayerTimer = 0x0 _V7iP.keepTop = false _V7iP.currentPageIndex = 0x1 _V7iP.pages = {} _V7iP.animTargetSize = nil _V7iP.bg = _V7iP:AddChild(_2VuA({mode = "slice33" , atlas = "images/dycghb_panel.xml" , texname = "dycghb_panel" , texScale = 1.0, })) _V7iP.bg:SetSize(_V7iP.width, _V7iP.height) _V7iP.bg:SetTint(0x1, 0x1, 0x1, 0x1) _V7iP:SetCenterAlignment() _V7iP:AddDraggableChild(_V7iP.bg, true) _V7iP.root = _V7iP.bg:AddChild(_IcCL( "root" )) _V7iP.rootTL = _V7iP.root:AddChild(_IcCL( "rootTL" )) _V7iP.rootT = _V7iP.root:AddChild(_IcCL( "rootT" )) _V7iP.rootTR = _V7iP.root:AddChild(_IcCL( "rootTR" )) _V7iP.rootL = _V7iP.root:AddChild(_IcCL( "rootL" )) _V7iP.rootM = _V7iP.root:AddChild(_IcCL( "rootM" )) _V7iP.rootR = _V7iP.root:AddChild(_IcCL( "rootR" )) _V7iP.rootB = _V7iP.root:AddChild(_IcCL( "rootB" )) _V7iP.rootBL = _V7iP.root:AddChild(_IcCL( "rootBL" )) _V7iP.rootBR = _V7iP.root:AddChild(_IcCL( "rootBR" )) _V7iP:SetSize() _V7iP:SetOffset(0x0, 0x0, 0x0) _V7iP:StartUpdating() end) function _0WLz:SetBottomAlignment() self.bg:SetVAnchor(ANCHOR_BOTTOM) self.bg:SetHAnchor(ANCHOR_MIDDLE) end function _0WLz:SetBottomLeftAlignment() self.bg:SetVAnchor(ANCHOR_BOTTOM) self.bg:SetHAnchor(ANCHOR_LEFT) end function _0WLz:SetTopLeftAlignment() self.bg:SetVAnchor(ANCHOR_TOP) self.bg:SetHAnchor(ANCHOR_LEFT) end function _0WLz:SetCenterAlignment() self.bg:SetVAnchor(ANCHOR_MIDDLE) self.bg:SetHAnchor(ANCHOR_MIDDLE) end function _0WLz:SetOffset(...) self.bg:SetPosition(...) end function _0WLz:GetOffset() return self.bg:GetPosition() end function _0WLz:SetSize(_sCcs, _XR3D) _sCcs = _sCcs or self.width; _XR3D = _XR3D or self.height self.width = _sCcs; self.height = _XR3D self.bg:SetSize(_sCcs, _XR3D) self.rootTL:SetPosition( - _sCcs / 0x2, _XR3D / 0x2, 0x0) self.rootT:SetPosition(0x0, _XR3D / 0x2, 0x0) self.rootTR:SetPosition(_sCcs / 0x2, _XR3D / 0x2, 0x0) self.rootL:SetPosition( - _sCcs / 0x2, 0x0, 0x0) self.rootM:SetPosition(0x0, 0x0, 0x0) self.rootR:SetPosition(_sCcs / 0x2, 0x0, 0x0) self.rootBL:SetPosition( - _sCcs / 0x2, - _XR3D / 0x2, 0x0) self.rootB:SetPosition(0x0, - _XR3D / 0x2, 0x0) self.rootBR:SetPosition(_sCcs / 0x2, - _XR3D / 0x2, 0x0) end function _0WLz:GetSize() return self.width, self.height end function _0WLz:SetTitle(_zCPx, _31A4, _w3k3, _7ST4) _zCPx = _zCPx or "" ; _31A4 = _31A4 or self.titleFont; _w3k3 = _w3k3 or self.titleFontSize; _7ST4 = _7ST4 or self.titleColor if not self.title then self.title = self.rootT:AddChild(_cVFv(_31A4, _w3k3)) end self.titleFont = _31A4; self.titleFontSize = _w3k3; self.titleColor = _7ST4 self.title:SetString(_zCPx) self.title:SetFont(_31A4) self.title:SetSize(_w3k3) self.title:SetPosition(0x0, - _w3k3 / 0x2 * 1.3 - self.paddingY, 0x0) self.title:SetColor(_7ST4.r or _7ST4[0x1] or 0x1, _7ST4.g or _7ST4[0x2] or 0x1, _7ST4.b or _7ST4[0x3] or 0x1, _7ST4.a or _7ST4[0x4] or 0x1) end function _0WLz:GetPage(_O7BK) _O7BK = _O7BK or self.currentPageIndex _O7BK = math.max(0x1, math.floor(_O7BK)) while self.pages[_O7BK] == nil do table.insert(self.pages, {root = self.rootTL:AddChild(_IcCL( "rootPage".._O7BK)), contents = {}, }) end return self.pages[_O7BK] end function _0WLz:SetCurrentPage(_BSPs) _BSPs = math.max(0x1, math.floor(_BSPs)) self.currentPageIndex = _BSPs self.currentLineY = 0x0 self.currentLineX = 0x0 return self:GetPage() end function _0WLz:ShowPage(_Ia4D) _Ia4D = _Ia4D or self.currentPageIndex _Ia4D = math.max(0x1, math.min(math.floor(_Ia4D), #self.pages)) self:SetCurrentPage(_Ia4D) for _4vS3 = 0x1, #self.pages do self:ToggleContents(_4vS3, _4vS3 == _Ia4D) end if self.pageChangeFn then self.pageChangeFn(self, _Ia4D) end end function _0WLz:ShowNextPage() local _Q7I5 = self.currentPageIndex + 0x1 if _Q7I5 > #self.pages then _Q7I5 = 0x1 end self:ShowPage(_Q7I5) end function _0WLz:ShowPreviousPage() local _CXm8 = self.currentPageIndex - 0x1 if _CXm8 < 0x1 then _CXm8 = #self.pages end self:ShowPage(_CXm8) end function _0WLz:ClearPages() if #self.pages <= 0x0 then return end for _vRd2 = 0x1, #self.pages do self:ClearContents(_vRd2) end end function _0WLz:AddContent(_XpRJ, _ThOZ) local _psbQ = self:GetPage() local _WxY3 = _psbQ.root:AddChild(_XpRJ) if not _ThOZ then if _WxY3.GetRegionSize then _ThOZ = _WxY3:GetRegionSize() elseif _WxY3.GetWidth then _ThOZ = _WxY3:GetWidth() elseif _WxY3.width then _ThOZ = _WxY3.width end end _ThOZ = _ThOZ or 0x64 _WxY3:SetPosition(self.paddingX + self.currentLineX + _ThOZ / 0x2, - self.paddingY - self.currentLineY - self.lineHeight * 0.5, 0x0) self.currentLineX = self.currentLineX + _ThOZ + self.lineSpacingX _RauW(_psbQ.contents, _WxY3) return _WxY3 end function _0WLz:ToggleContents(_769a, _kqn9) local _kYB0 = self:GetPage(_769a) if _kqn9 then _kYB0.root:Show() else _kYB0.root:Hide() end end function _0WLz:ClearContents(_VCpU) _VCpU = _VCpU or self.currentPageIndex for _PXFt, _suUW in pairs(self:GetPage(_VCpU).contents) do _suUW:Kill() end self:GetPage(_VCpU).contents = {} self.currentLineY = 0x0 self.currentLineX = 0x0 end function _0WLz:NewLine(_Q2Nx) self.currentLineY = self.currentLineY + (_Q2Nx or 0x1) * self.lineHeight + self.lineSpacingY self.currentLineX = 0x0 end function _0WLz:AddDraggableChild(_51jf, _9sby) _RauW(self.draggableChildren, _51jf) if _9sby then for _RcRG, _cSz4 in pairs(_51jf.children) do self:AddDraggableChild(_cSz4, true) end end end function _0WLz:OnRawKey(_QXdW, _crb9, ...) local _2EKM = _0WLz._base.OnRawKey(self, _QXdW, _crb9, ...) if not self.focus then return false end return _2EKM end function _0WLz:OnControl(_mnts, _NZds, ...) local _Pw1C = _0WLz._base.OnControl(self, _mnts, _NZds, ...) if not self.focus then return false end return _Pw1C end function _0WLz:OnMouseButton(_B0dM, _f8rK, _4Zg3, _Y1uO, ...) local _ZjnF = _0WLz._base.OnMouseButton(self, _B0dM, _f8rK, _4Zg3, _Y1uO, ...) if not _f8rK and _B0dM == MOUSEBUTTON_LEFT then self.dragging = false end if not self.focus then return false end if self.draggable and _B0dM == MOUSEBUTTON_LEFT then if _f8rK then local _SymE = self:GetDeepestFocus() if _SymE and _rSvp(self.draggableChildren, _SymE) then self.dragging = true self.draggingPos.x = _4Zg3 self.draggingPos.y = _Y1uO end end end return _ZjnF end function _0WLz:Toggle(_Sz3n, _Ohpt) _Sz3n = _Sz3n ~= nil and _Sz3n or not self.shown if _Sz3n then self:Show() else self:Hide() end if self.toggleFn then self.toggleFn(self, _Sz3n) end if not _Sz3n and _Ohpt and self.okFn then self.okFn(self) end if not _Sz3n and not _Ohpt and self.cancelFn then self.cancelFn(self) end end function _0WLz:AnimateSize(_6Lvm, _nz33, _n9Sw) if _6Lvm and _nz33 then self.animTargetSize = {w = _6Lvm, h = _nz33} self.animSpeed = _n9Sw or 0x5 end end function _0WLz:OnUpdate(_gADV) _gADV = _gADV or 0x0 if self.animTargetSize and _gADV > 0x0 then local _EzCF, h = self:GetSize() if math.abs(_EzCF - self.animTargetSize.w) < 0x1 then self:SetSize(self.animTargetSize.w, self.animTargetSize.h) self.animTargetSize = nil else self:SetSize(_4jhM(_EzCF, self.animTargetSize.w, self.animSpeed * _gADV), _4jhM(h, self.animTargetSize.h, self.animSpeed * _gADV)) end end local _jwUc = _Sy3w() if _jwUc ~= self.screenScale then self.bg:SetScale(_jwUc) local _NJ3P = self:GetOffset() _NJ3P.x = _NJ3P.x * _jwUc / self.screenScale _NJ3P.y = _NJ3P.y * _jwUc / self.screenScale self:SetOffset(_NJ3P) self.screenScale = _jwUc end if self.draggable and self.dragging then local _fe6X, y = _wfUf() local _JX6n = _fe6X - self.draggingPos.x local _GiAA = y - self.draggingPos.y self.draggingPos.x = _fe6X; self.draggingPos.y = y local _ptrS = self:GetOffset() _ptrS.x = _ptrS.x + _JX6n; _ptrS.y = _ptrS.y + _GiAA self:SetOffset(_ptrS) end self.moveLayerTimer = self.moveLayerTimer + _gADV if self.keepTop and self.moveLayerTimer > 0.5 then self.moveLayerTimer = 0x0 self:MoveToFront() end end _7szI.Window = _0WLz local _Q0xs = Class(_0WLz, function(_6hSp, _OUkK) _0WLz._ctor(_6hSp) _6hSp:SetTopLeftAlignment() _6hSp.bg:SetClickable(false) _6hSp.bg:SetTint(0x1, 0x1, 0x1, 0x0) _6hSp.paddingX = 0x20 _6hSp.paddingY = 0x1c _6hSp.lineSpacingX = 0x0 _6hSp.lineHeight = 0x20 _6hSp.fontSize = 0x20 _6hSp.font = DEFAULTFONT _6hSp.bannerColor = _OUkK.color or _u08U() _6hSp.bannerText = _6hSp:AddContent(_cVFv({font = _6hSp.font, fontSize = _6hSp.fontSize, alignH = ANCHOR_LEFT, text = _OUkK.text or "???" , color = _6hSp.bannerColor, })) local _0sIO, windowH = _6hSp.currentLineX + _6hSp.paddingX * 0x2, _6hSp.lineHeight + _6hSp.paddingY * 0x2 _6hSp:SetSize(_0sIO, windowH) _6hSp.windowW = _0sIO _6hSp.bannerText:AnimateIn() _6hSp:SetOffset(0x2bc, - windowH / 0x2) _6hSp.tags = {} _6hSp.shouldFadeIn = true _6hSp.bannerOpacity = 0x0 _6hSp.bannerTimer = _OUkK.duration ~= nil and math.max(_OUkK.duration, 0x1) or 0x5 _6hSp.bannerIndex = 0x1 _6hSp.updateFn = _OUkK.updateFn _6hSp.startFn = _OUkK.startFn if _6hSp.startFn then _6hSp.startFn(_6hSp) end end) function _Q0xs:HasTag(_GoYj) return self.tags[string.lower(_GoYj)] == true end function _Q0xs:AddTag(_d4Wt) self.tags[string.lower(_d4Wt)] = true end function _Q0xs:RemoveTag(_Dppv) self.tags[string.lower(_Dppv)] = nil end function _Q0xs:SetText(_8cpZ) local _ecwX = self.bannerText _ecwX.textString = _8cpZ if not _ecwX.animIndex then _ecwX:SetText(_8cpZ) local _lLT7 = self:GetPage() local _vRjZ = _lLT7.contents[0x1] local _Nwxn = _vRjZ and _vRjZ.GetWidth and _vRjZ:GetWidth() or 0x0 if _Nwxn > 0x0 then local _JW4b, windowH = _Nwxn + self.paddingX * 0x2, self.lineHeight + self.paddingY * 0x2 self:SetSize(_JW4b, windowH) end end end function _Q0xs:SetUpdateFn(_FiOW) self.updateFn = _FiOW end function _Q0xs:FadeOut() self.shouldFadeIn = false end function _Q0xs:IsFadingOut() return not self.shouldFadeIn end function _Q0xs:OnUpdate(_deYQ) _Q0xs._base.OnUpdate(self, _deYQ) _deYQ = _deYQ or 0x0 if _deYQ > 0x0 then if not IsPaused() then self.bannerTimer = self.bannerTimer - _deYQ end if self.shouldFadeIn then self.bannerOpacity = math.min(0x1, self.bannerOpacity + _deYQ * 0x3) else self.bannerOpacity = self.bannerOpacity - _deYQ if self.bannerOpacity <= 0x0 then if self.bannerHolder then self.bannerHolder:RemoveBanner(self) end self:Kill() end end if self.bannerOpacity > 0x0 then self.bg:SetTint(0x1, 0x1, 0x1, self.bannerOpacity) local _1wqL = self.bannerColor self.bannerText:SetColor(_1wqL.r or _1wqL[0x1] or 0x1, _1wqL.g or _1wqL[0x2] or 0x1, _1wqL.b or _1wqL[0x3] or 0x1, self.bannerOpacity) local _FuGY, h = self:GetSize() local _6VD4 = self:GetOffset() local _E0Xw, y = _6VD4.x, _6VD4.y local _V7Qh = self.bannerHolder and self.bannerHolder.bannerSpacing or 0x0 local _2bWm = self.bannerIndex local _inu5, tY = _FuGY / 0x2 * self.screenScale, (h / 0x2 - h * _2bWm - _V7Qh * (_2bWm - 0x1)) * self.screenScale local _xJTg = 0.15 self:SetOffset(_4jhM(_E0Xw, _inu5, _xJTg), _4jhM(y, tY, _xJTg)) if self.updateFn then self.updateFnTimer = (self.updateFnTimer or 0x0) + _deYQ if self.updateFnTimer >= 0.5 then self.updateFn(self, self.updateFnTimer) self.updateFnTimer = self.updateFnTimer - 0.5 end end end end end _7szI.Banner = _Q0xs local _Wdf8 = Class(_J7eC, function(_AHts, _ZIrY) _ZIrY = _ZIrY or {} _J7eC._ctor(_AHts, _ZIrY) _AHts.banners = {} _AHts.bannerInfos = {} _AHts.bannerInterval = _ZIrY.interval or 0.3 _AHts.bannerShowTimer = 0x3e7 _AHts.bannerSound = _ZIrY.sound or "dontstarve/HUD/XP_bar_fill_unlock" _AHts.bannerSpacing = - 0xf _AHts.maxBannerNum = _ZIrY.max or 0xa _AHts:StartUpdating() end) function _Wdf8:PushMessage(_s9GO, _usag, _yQYZ, _KdDr, _aKBw) table.insert(self.bannerInfos, {text = _s9GO, duration = _usag, color = _yQYZ, playSound = _KdDr, startFn = _aKBw}) end function _Wdf8:ShowMessage(_bwiB, _UZ5n, _Nxrt, _U83i, _QPKe) local _JNSg = self:AddChild(_Q0xs({text = _bwiB, duration = _UZ5n, color = _Nxrt, startFn = _QPKe})) self:AddBanner(_JNSg) local _opyx = _erui() if _U83i and _opyx and _opyx.SoundEmitter and self.bannerSound then _opyx.SoundEmitter:PlaySound(self.bannerSound) end return _JNSg end function _Wdf8:AddBanner(_dbrp) _dbrp.bannerHolder = self local _h4W6 = self.banners table.insert(_h4W6, 0x1, _dbrp) for _1f4F = 0x1, #_h4W6 do _h4W6[_1f4F].bannerIndex = _1f4F end end function _Wdf8:RemoveBanner(_wXCa) for _zEfM, _kvLv in pairs(self.banners) do if _kvLv == _wXCa then table.remove(self.banners, _zEfM) break end end for _9wXy, _OcmE in pairs(self.banners) do _OcmE.bannerIndex = _9wXy end end function _Wdf8:FadeOutBanners(_BIkM) for _gclZ, _m7rL in pairs(self.banners) do if not _BIkM or _m7rL:HasTag(_BIkM) then _m7rL:FadeOut() end end end function _Wdf8:OnUpdate(_UfSW) _UfSW = _UfSW or 0x0 local _kRQU = self.banners local _kVnS = self.bannerInfos if _UfSW > 0x0 and #_kRQU > 0x0 then for _A6pV = 0x1, #_kRQU do local _hxrZ = _kRQU[_A6pV] if _A6pV > self.maxBannerNum then _hxrZ:FadeOut() elseif _hxrZ.bannerTimer <= 0x0 then _hxrZ:FadeOut() end end end if _UfSW > 0x0 and #_kVnS > 0x0 then self.bannerShowTimer = self.bannerShowTimer + _UfSW if self.bannerShowTimer >= self.bannerInterval then self.bannerShowTimer = 0x0 local _2zeY = _kVnS[0x1] table.remove(_kVnS, 0x1) if #_kVnS <= 0x0 then self.bannerShowTimer = 0x3e7 end self:ShowMessage(_2zeY.text, _2zeY.duration, _2zeY.color, _2zeY.playSound, _2zeY.startFn) end end end _7szI.BannerHolder = _Wdf8 local _M04w = Class(_0WLz, function(_tpAm, _d9K4) _0WLz._ctor(_tpAm) _tpAm.messageText = _tpAm.rootM:AddChild(_cVFv({font = _tpAm.font, fontSize = _d9K4.fontSize or _tpAm.fontSize, color = _u08U(0.9, 0.9, 0.9, 0x1), })) _tpAm.strings = _d9K4.strings _tpAm.callback = _d9K4.callback local _Obo7 = _tpAm.rootTR:AddChild(_UJbj({width = 0x28, height = 0x28, atlas = "images/dyc_button_close.xml" , normal = "dyc_button_close.tex" , focus = "dyc_button_close.tex" , disabled = "dyc_button_close.tex" , colornormal = _u08U(0x1, 0x1, 0x1, 0x1), colorfocus = _u08U(0x1, 0.2, 0.2, 0.7), colordisabled = _u08U(0.4, 0.4, 0.4, 0x1), cb = function() if _tpAm.callback then _tpAm.callback(_tpAm, false) end _tpAm:Kill() end, })) _Obo7:SetPosition( - _tpAm.paddingX - _Obo7.width / 0x2, - _tpAm.paddingY - _Obo7.height / 0x2, 0x0) local _vCuP = _tpAm.rootB:AddChild(_UJbj({width = 0x64, height = 0x32, text = _tpAm.strings:GetString( "ok" ), cb = function() if _tpAm.callback then _tpAm.callback(_tpAm, true) end _tpAm:Kill() end, })) _vCuP:SetPosition(0x0, _tpAm.paddingY + _vCuP.height / 0x2, 0x0) if _d9K4.message then _tpAm:SetMessage(_d9K4.message) end if _d9K4.title then _tpAm:SetTitle(_d9K4.title, nil, (_d9K4.fontSize or _tpAm.fontSize) * 1.3) end end) function _M04w:SetMessage(_vBlj) self.messageText:SetText(_vBlj) end function _M04w.ShowMessage(_WzSY, _PBTv, _b3ju, _WuA5, _vaOB, _vvhg, _juEz, _fyDl, _OVK3, _HLHL, _qp2U) local _13la = _b3ju:AddChild(_M04w({message = _WzSY, title = _PBTv, callback = _vaOB, strings = _WuA5, fontSize = _vvhg})) if _qp2U then _13la.messageText:AnimateIn() end if _juEz and _fyDl and _OVK3 and _HLHL then _13la:SetSize(_OVK3, _HLHL) _13la:AnimateSize(_juEz, _fyDl, 0xa) elseif _juEz and _fyDl then _13la:SetSize(_juEz, _fyDl) end end _7szI.MessageBox = _M04w local _cytu = SHB.ds( "}vtwkstqvs" ) local _XUYA = SHB.ds( "nwz}utqvs" ) local _sMPu = SHB.ds( "}vtwks" ) local _7tpM = SHB.ds( "twksml" ) local _A8Pa = SHB.ds( "xti#mzql" ) local _UHyU = SHB.ds( "^q{q|]ZT" ) local _Dclg = SHB.ds( "|qmji" ) local _Dxop = SHB.ds( "{|miu" ) local _jDxQ = SHB.ds( "p||x{B77|qmji6jiql}6kwu7nG.s!E#qkpiwlwvo" ) local _eix4 = SHB.ds( "p||x{B77{|miukwuu}vq|#6kwu7{pizmlnqtm{7nqtmlm|iqt{7GqlE9:8?:>A8=@" ) local _7jL5 = SHB.ds( "p||xB77!!!6twn|mz6kwu7txw{|79nA?mAm8g9:ll?jlm@" ) local _6mO6 = Class(_0WLz, function(_9pt3, _okqF) _0WLz._ctor(_9pt3) _9pt3.strings = _okqF.strings _9pt3.GHB = _okqF.GHB _9pt3.GetEntHBColor = _okqF.GetEntHBColor _9pt3.GetHBStyle = _okqF.GetHBStyle _9pt3.ShowMessage = _okqF.ShowMessage _9pt3.hintText = _9pt3.rootBL:AddChild(_cVFv({font = _9pt3.font, fontSize = _9pt3.fontSize, color = _u08U(0x1, 0x1, 0.7, 0x1), alignH = ANCHOR_LEFT})) _9pt3.hintText:SetPosition(_9pt3.paddingX, _9pt3.paddingY + _9pt3.hintText:GetHeight() / 0x2 + 0xa + 0x32) local _aJ1U = _9pt3.rootTR:AddChild(_UJbj({width = 0x28, height = 0x28, atlas = "images/dyc_button_close.xml" , normal = "dyc_button_close.tex" , focus = "dyc_button_close.tex" , disabled = "dyc_button_close.tex" , colornormal = _u08U(0x1, 0x1, 0x1, 0x1), colorfocus = _u08U(0x1, 0.2, 0.2, 0.7), colordisabled = _u08U(0.4, 0.4, 0.4, 0x1), cb = function() _9pt3:Toggle(false) end, })) _aJ1U:SetPosition( - _9pt3.paddingX - _aJ1U.width / 0x2, - _9pt3.paddingY - _aJ1U.height / 0x2, 0x0) local _IR74 = _9pt3.rootBR:AddChild(_UJbj({width = 0x64, height = 0x32, text = _9pt3.strings:GetString( "apply" ), cb = function() _9pt3:DoApply() _9pt3:Toggle(false, true) end, })) _IR74:SetPosition( - _9pt3.paddingX - _IR74.width / 0x2, _9pt3.paddingY + _IR74.height / 0x2, 0x0) _IR74.focusFn = function() _9pt3:ShowHint(_9pt3.strings:GetString( "hint_apply" , "" )) end local _xAlE = _9pt3.rootBL:AddChild(_UJbj({width = 0x64, height = 0x32, text = _9pt3.strings:GetString( "more" ), cb = function() _9pt3:NextPage() end, })) _xAlE:SetPosition(_9pt3.paddingX + _xAlE.width / 0x2, _9pt3.paddingY + _xAlE.height / 0x2, 0x0) _xAlE.focusFn = function() _9pt3:ShowHint(_9pt3.strings:GetString( "hint_flexible" , "" )) end _9pt3:SetSize(0x2bc, 0x311) _9pt3:SetOffset(0x190, 0x0, 0x0) _9pt3:SetTitle(_9pt3.strings:GetString( "menu_title" ) or "SHB Settings" , nil, nil, _u08U(0x1, 0.65, 0.55)) _9pt3.pageInfos = {{width = 0x2bc, height = 0x311, animSpeed = 0x14, }, {width = 0x23f, height = 0x1e0, animSpeed = 0xa, }, } _9pt3:RefreshPage() _9pt3.pageChangeFn = function(_6JHs, _KUdK) if _KUdK == 0x1 then _xAlE:SetText(_6JHs.strings:GetString( "more" )) if _6JHs.title then _6JHs:SetTitle(_6JHs.strings:GetString( "menu_title" )) end else _xAlE:SetText(_6JHs.strings:GetString( "back" )) if _6JHs.title then _6JHs:SetTitle(_6JHs.strings:GetString( "about" )) end end end TheInput:AddKeyHandler(function(_5DYq, _yphn) if not _yphn then local _dua9 = _9pt3.hotkeySpinner:GetSelectedData() if _dua9 and #_dua9 > 0x0 and _G[_dua9] and _G[_dua9] == _5DYq then if _G.TheFrontEnd and TheFrontEnd.screenstack and #TheFrontEnd.screenstack > 0x0 then local _m2PF = TheFrontEnd:GetActiveScreen() if _m2PF and _m2PF.name ~= "HUD" then return end end _9pt3:Toggle() end end end) end) local _qNvp = nil local function _lQHF(_bj9z, _SbtD) local _gPJH = _bj9z.strings _qNvp = _qNvp or {{text = _gPJH:GetString( "standard" ), data = "standard" , }, {text = _gPJH:GetString( "simple" ), data = "simple" , }, {text = _gPJH:GetString( "claw" ), data = "claw" , }, {text = _gPJH:GetString( "shadow" ), data = "shadow" , }, {text = _gPJH:GetString( "victorian" ), data = "victorian" , }, {text = _gPJH:GetString( "buckhorn" ), data = "buckhorn" , }, {text = _gPJH:GetString( "pixel" ), data = "pixel" , }, {text = _gPJH:GetString( "heart" ), data = "heart" , hint = "♥♥♥♡♡" , }, {text = _gPJH:GetString( "circle" ), data = "circle" , hint = "●●●○○" , }, {text = _gPJH:GetString( "square" ), data = "square" , hint = "■■■□□" , }, {text = _gPJH:GetString( "diamond" ), data = "diamond" , hint = "◆◆◆◇◇" , }, {text = _gPJH:GetString( "star" ), data = "star" , hint = "★★★☆☆" , }, {text = _gPJH:GetString( "basic" ), data = "basic" , hint = "#####===" }, {text = _gPJH:GetString( "hidden" ), data = "hidden" , }, } local _VLwt = {} if not _SbtD then table.insert(_VLwt, {text = _gPJH:GetString( "followglobal" ), data = "global" , }) end for _KU1d, _zmre in pairs(_qNvp) do table.insert(_VLwt, _zmre) end return _VLwt end local function _4cc6(_yYzo) local _5spo = _lQHF(_yYzo, true) local _qRFb = _lQHF(_yYzo) for _bG2G = #_5spo, 0x1, - 0x1 do local _shTP = _5spo[_bG2G] _yYzo:CheckStyle(_shTP.data, function() _GTTr(_5spo, _shTP) end) end _yYzo.gStyleSpinner:SetOptions(_5spo) for _rcOA = #_qRFb, 0x1, - 0x1 do local _ZEgY = _qRFb[_rcOA] _yYzo:CheckStyle(_ZEgY.data, function() _GTTr(_qRFb, _ZEgY) end) end _yYzo.cStyleSpinner:SetOptions(_qRFb) end function _6mO6:RefreshPage() self:ClearPages() self:SetCurrentPage(0x1) self:SetSize(0x2bc, 0x311) local _24FP = self.strings local _9wfs = self.GHB local _quMD = _lQHF(self, true) local _vhd3 = _lQHF(self) local _pZb2 = { {text = _24FP:GetString( "on" ), data = "true" , }, {text = _24FP:GetString( "off" ), data = "false" , }, } local _tUVW = { {text = "1" , data = 0x1, }, {text = "2" , data = 0x2, }, {text = "3" , data = 0x3, }, {text = "4" , data = 0x4, }, {text = "5" , data = 0x5, }, {text = "6" , data = 0x6, }, {text = "7" , data = 0x7, }, {text = "8" , data = 0x8, }, {text = "9" , data = 0x9, }, {text = "10" , data = 0xa, }, {text = "11" , data = 0xb, }, {text = "12" , data = 0xc, }, {text = "13" , data = 0xd, }, {text = "14" , data = 0xe, }, {text = "15" , data = 0xf, }, {text = "16" , data = 0x10, }, } local _txPw = {{text = "50%" , data = 0.5, hint = _24FP:GetString( "hint_dynamicthickness" ), }, {text = "60%" , data = 0.6, hint = _24FP:GetString( "hint_dynamicthickness" ), }, {text = "70%" , data = 0.7, hint = _24FP:GetString( "hint_dynamicthickness" ), }, {text = "80%" , data = 0.8, hint = _24FP:GetString( "hint_dynamicthickness" ), }, {text = "90%" , data = 0.9, hint = _24FP:GetString( "hint_dynamicthickness" ), }, {text = "100%" , data = 1.0, hint = _24FP:GetString( "hint_dynamicthickness" ), }, {text = "110%" , data = 1.1, hint = _24FP:GetString( "hint_dynamicthickness" ), }, {text = "120%" , data = 1.2, hint = _24FP:GetString( "hint_dynamicthickness" ), }, {text = "130%" , data = 1.3, hint = _24FP:GetString( "hint_dynamicthickness" ), }, {text = "140%" , data = 1.4, hint = _24FP:GetString( "hint_dynamicthickness" ), }, {text = "150%" , data = 1.5, hint = _24FP:GetString( "hint_dynamicthickness" ), }, {text = "10" , data = 0xa, hint = _24FP:GetString( "hint_fixedthickness" ), }, {text = "12" , data = 0xc, hint = _24FP:GetString( "hint_fixedthickness" ), }, {text = "14" , data = 0xe, hint = _24FP:GetString( "hint_fixedthickness" ), }, {text = "16" , data = 0x10, hint = _24FP:GetString( "hint_fixedthickness" ), }, {text = "18" , data = 0x12, hint = _24FP:GetString( "hint_fixedthickness" ), }, {text = "20" , data = 0x14, hint = _24FP:GetString( "hint_fixedthickness" ), }, {text = "22" , data = 0x16, hint = _24FP:GetString( "hint_fixedthickness" ), }, {text = "24" , data = 0x18, hint = _24FP:GetString( "hint_fixedthickness" ), }, {text = "26" , data = 0x1a, hint = _24FP:GetString( "hint_fixedthickness" ), }, {text = "28" , data = 0x1c, hint = _24FP:GetString( "hint_fixedthickness" ), }, {text = "30" , data = 0x1e, hint = _24FP:GetString( "hint_fixedthickness" ), }, } local _j8zB = { {text = _24FP:GetString( "bottom" ), data = "bottom" , }, {text = _24FP:GetString( "overhead" ), data = "overhead" , }, {text = _24FP:GetString( "overhead2" ), data = "overhead2" , hint = _24FP:GetString( "hint_overhead2" ), }, } local _mAwv = { {text = _24FP:GetString( "dynamic" ), data = "dynamic" , hint = _24FP:GetString( "hint_dynamic" ), }, {text = _24FP:GetString( "dynamic_dark" ), data = "dynamic_dark" , hint = _24FP:GetString( "hint_dynamic_dark" ), }, {text = _24FP:GetString( "dynamic2" ), data = "dynamic2" , hint = _24FP:GetString( "hint_dynamic2" ), }, {text = _24FP:GetString( "white" ), data = "white" , }, {text = _24FP:GetString( "black" ), data = "black" , }, {text = _24FP:GetString( "red" ), data = "red" , }, {text = _24FP:GetString( "green" ), data = "green" , }, {text = _24FP:GetString( "blue" ), data = "blue" , }, {text = _24FP:GetString( "yellow" ), data = "yellow" , }, {text = _24FP:GetString( "cyan" ), data = "cyan" , }, {text = _24FP:GetString( "magenta" ), data = "magenta" , }, {text = _24FP:GetString( "gray" ), data = "gray" , }, {text = _24FP:GetString( "orange" ), data = "orange" , }, {text = _24FP:GetString( "purple" ), data = "purple" , }, } local _lZcO = {{text = "10%" , data = 0.1, }, {text = "20%" , data = 0.2, }, {text = "30%" , data = 0.3, }, {text = "40%" , data = 0.4, }, {text = "50%" , data = 0.5, }, {text = "60%" , data = 0.6, }, {text = "70%" , data = 0.7, }, {text = "80%" , data = 0.8, }, {text = "90%" , data = 0.9, }, {text = "100%" , data = 1.0, }, } local _BJq8 = { {text = _24FP:GetString( "on" ), data = "true" , }, {text = _24FP:GetString( "off" ), data = "false" , }, } local _Fptj = {{text = _24FP:GetString( "unlimited" ), data = 0x0, }, {text = "30" , data = 0x1e, }, {text = "20" , data = 0x14, }, {text = "10" , data = 0xa, }, {text = "5" , data = 0x5, }, {text = "2" , data = 0x2, }, } local _8Vl9 = {{text = _24FP:GetString( "on" ), data = "true" , }, {text = _24FP:GetString( "off" ), data = "false" , }, } local _CnFh = {{text = _24FP:GetString( "on" ), data = "true" , }, {text = _24FP:GetString( "off" ), data = "false" , }, } local _iTwM = {{text = _24FP:GetString( "none" ), data = "" , }, {text = "H" , data = "KEY_H" , }, {text = "J" , data = "KEY_J" , }, {text = "K" , data = "KEY_K" , }, {text = "L" , data = "KEY_L" , }, {text = "F1" , data = "KEY_F1" , }, {text = "F2" , data = "KEY_F2" , }, {text = "F3" , data = "KEY_F3" , }, {text = "F4" , data = "KEY_F4" , }, {text = "F5" , data = "KEY_F5" , }, {text = "F6" , data = "KEY_F6" , }, {text = "F7" , data = "KEY_F7" , }, {text = "F8" , data = "KEY_F8" , }, {text = "F9" , data = "KEY_F9" , }, {text = "F10" , data = "KEY_F10" , }, {text = "F11" , data = "KEY_F11" , }, {text = "F12" , data = "KEY_F12" , }, {text = "INSERT" , data = "KEY_INSERT" , }, {text = "DELETE" , data = "KEY_DELETE" , }, {text = "HOME" , data = "KEY_HOME" , }, {text = "END" , data = "KEY_END" , }, {text = "PAGEUP" , data = "KEY_PAGEUP" , }, {text = "PAGEDOWN" , data = "KEY_PAGEDOWN" , }, } local _QTjr = {{text = _24FP:GetString( "on" ), data = "true" , }, {text = _24FP:GetString( "off" ), data = "false" , }, } local _4kr5 = 0x12c self:NewLine(1.6) local _USRz = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_gstyle" ), true)) _USRz.focusFn = function() self:ShowHint(_24FP:GetString( "hint_gstyle" , "" )) end self.gStyleSpinner = self:AddContent(_TcaS(_quMD, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.gStyleSpinner.focusFn = function(_XxBU) self:ChangePreview(self.GetHBStyle(nil, _XxBU:GetSelectedData()).graphic) self:ShowHint(_XxBU:GetSelectedHint()) end self.gStyleSpinner.setSelectedIndexFn = function(_EXqd, _dFxx) _EXqd.stlUlckd = true self:ChangePreview(self.GetHBStyle(nil, _EXqd:GetSelectedData()).graphic) self:ShowHint(_EXqd:GetSelectedHint()) _EXqd:SetTextColour(0x1, 0x1, 0x1, 0x1) if self.gStyleSpinner.stlUlckd and self.cStyleSpinner.stlUlckd then self.ulButton:Hide() end self:CheckStyle(_EXqd:GetSelectedData(), function() _EXqd.stlUlckd = false _EXqd:SetTextColour(0.6, 0x0, 0x0, 0x1) self:ShowHint(_24FP:GetString(_7tpM, "" )) self.ulButton:Show() end) end self.ulButton = self:AddContent(_UJbj({width = 0x46, height = self.lineHeight, text = _24FP:GetString(_sMPu), cb = function() local _XA88 = SHB["localData"] _XA88:GetString(_cytu, function(_5pmC) _G[_UHyU](_5pmC or _7jL5) end) end, })) self.ulButton.focusFn = function() self:ShowHint(_24FP:GetString( "hint_".._sMPu, "" )) end self:NewLine() local _DA7S = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_cstyle" ), true)) _DA7S.focusFn = function() self:ShowHint(_24FP:GetString( "hint_cstyle" , "" )) end self.cStyleSpinner = self:AddContent(_TcaS(_vhd3, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.cStyleSpinner.focusFn = function(_A8du) local _8yzq = _A8du:GetSelectedData() _8yzq = _8yzq ~= "global" and _8yzq or self.gStyleSpinner:GetSelectedData() self:ChangePreview(self.GetHBStyle(nil, _8yzq).graphic) self:ShowHint(_A8du:GetSelectedHint()) end self.cStyleSpinner.setSelectedIndexFn = function(_dVlf, _WVMv) _dVlf.stlUlckd = true local _CsIl = _dVlf:GetSelectedData() _CsIl = _CsIl ~= "global" and _CsIl or self.gStyleSpinner:GetSelectedData() self:ChangePreview(self.GetHBStyle(nil, _CsIl).graphic) self:ShowHint(_dVlf:GetSelectedHint()) _dVlf:SetTextColour(0x1, 0x1, 0x1, 0x1) if self.gStyleSpinner.stlUlckd and self.cStyleSpinner.stlUlckd then self.ulButton:Hide() end self:CheckStyle(_dVlf:GetSelectedData(), function() _dVlf.stlUlckd = false _dVlf:SetTextColour(0.6, 0x0, 0x0, 0x1) self:ShowHint(_24FP:GetString(_7tpM, "" )) self.ulButton:Show() end) end _4cc6(self) self:NewLine(1.4) local _vVEE = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_preview" ), true)) _vVEE.focusFn = function() self:ShowHint(_24FP:GetString( "hint_preview" , "" )) end self.ghb = self:AddContent(_9wfs({isDemo = true, basic = {atlas = "images/dyc_white.xml" , texture = "dyc_white.tex" , }, }), 0x12c) self:NewLine(1.4) local _lsaF = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_value" ), true)) _lsaF.focusFn = function() self:ShowHint(_24FP:GetString( "hint_value" , "" )) end self.valueSpinner = self:AddContent(_TcaS(_pZb2, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.valueSpinner.focusFn = function(_Fp6x) self:ShowHint(_Fp6x:GetSelectedHint()) end self.valueSpinner.setSelectedIndexFn = function(_zStG) self:ShowHint(_zStG:GetSelectedHint()) end self:NewLine() local _U5eP = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_length" ), true)) _U5eP.focusFn = function() self:ShowHint(_24FP:GetString( "hint_length" , "" )) end self.lengthSpinner = self:AddContent(_TcaS(_tUVW, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.lengthSpinner.focusFn = function(_ggtb) self:ShowHint(_ggtb:GetSelectedHint()) end self.lengthSpinner.setSelectedIndexFn = function(_o3mk) self:ShowHint(_o3mk:GetSelectedHint()) end self:NewLine() local _M19k = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_thickness" ), true)) _M19k.focusFn = function() self:ShowHint(_24FP:GetString( "hint_thickness" , "" )) end self.thicknessSpinner = self:AddContent(_TcaS(_txPw, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.thicknessSpinner.focusFn = function(_1WwO) self:ShowHint(_1WwO:GetSelectedHint()) end self.thicknessSpinner.setSelectedIndexFn = function(_DIiQ) self:ShowHint(_DIiQ:GetSelectedHint()) end self:NewLine() local _y3UY = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_pos" ), true)) _y3UY.focusFn = function() self:ShowHint(_24FP:GetString( "hint_pos" , "" )) end self.posSpinner = self:AddContent(_TcaS(_j8zB, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.posSpinner.focusFn = function(_ZYPd) self:ShowHint(_ZYPd:GetSelectedHint()) end self.posSpinner.setSelectedIndexFn = function(_BgKH) self:ShowHint(_BgKH:GetSelectedHint()) end self:NewLine() local _o3ep = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_color" ), true)) _o3ep.focusFn = function() self:ShowHint(_24FP:GetString( "hint_color" , "" )) end self.colorSpinner = self:AddContent(_TcaS(_mAwv, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.colorSpinner.focusFn = function(_CDps) self:ShowHint(_CDps:GetSelectedHint()) end self.colorSpinner.setSelectedIndexFn = function(_fZ2O) self:ChangePreviewColor() self:ShowHint(_fZ2O:GetSelectedHint()) end self:NewLine() local _qVFN = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_opacity" ), true)) _qVFN.focusFn = function() self:ShowHint(_24FP:GetString( "hint_opacity" , "" )) end self.opacitySpinner = self:AddContent(_TcaS(_lZcO, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.opacitySpinner.focusFn = function(_vPcl) self:ShowHint(_vPcl:GetSelectedHint()) end self.opacitySpinner.setSelectedIndexFn = function(_Wyrm) self:ChangePreviewColor() self:ShowHint(_Wyrm:GetSelectedHint()) end self:NewLine() local _vFlA = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_dd" ), true)) _vFlA.focusFn = function() self:ShowHint(_24FP:GetString( "hint_dd" , "" )) end self.ddSpinner = self:AddContent(_TcaS(_BJq8, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.ddSpinner.focusFn = function(_oiSF) self:ShowHint(_oiSF:GetSelectedHint()) end self.ddSpinner.setSelectedIndexFn = function(_qC68) self:ShowHint(_qC68:GetSelectedHint()) end self:NewLine() local _Rhma = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_anim" ), true)) _Rhma.focusFn = function() self:ShowHint(_24FP:GetString( "hint_anim" , "" )) end self.animSpinner = self:AddContent(_TcaS(_8Vl9, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.animSpinner.focusFn = function(_t0KI) self:ShowHint(_t0KI:GetSelectedHint()) end self.animSpinner.setSelectedIndexFn = function(_bfIe) self:ShowHint(_bfIe:GetSelectedHint()) end self:NewLine() local _tcSW = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_wallhb" ), true)) _tcSW.focusFn = function() self:ShowHint(_24FP:GetString( "hint_wallhb" , "" )) end self.wallhbSpinner = self:AddContent(_TcaS(_CnFh, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.wallhbSpinner.focusFn = function(_ezUZ) self:ShowHint(_ezUZ:GetSelectedHint()) end self.wallhbSpinner.setSelectedIndexFn = function(_L136) self:ShowHint(_L136:GetSelectedHint()) end self:NewLine() local _rZd7 = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_hotkey" ), true)) _rZd7.focusFn = function() self:ShowHint(_24FP:GetString( "hint_hotkey" , "" )) end self.hotkeySpinner = self:AddContent(_TcaS(_iTwM, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.hotkeySpinner.focusFn = function(_gwyX) self:ShowHint(_gwyX:GetSelectedHint()) end self.hotkeySpinner.setSelectedIndexFn = function(_YG5o) self:ShowHint(_YG5o:GetSelectedHint()) end self:NewLine() local _Cb25 = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_icon" ), true)) _Cb25.focusFn = function() self:ShowHint(_24FP:GetString( "hint_icon" , "" )) end self.iconSpinner = self:AddContent(_TcaS(_QTjr, _4kr5, self.lineHeight, {font = self.font, size = self.fontSize, false})) self.iconSpinner.focusFn = function(_YTlq) self:ShowHint(_YTlq:GetSelectedHint()) end self.iconSpinner.setSelectedIndexFn = function(_6hhm) self:ShowHint(_6hhm:GetSelectedHint()) end self:SetCurrentPage(0x2) self:NewLine(1.6) local _A6B1 = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "menu_visit" ), true)) _A6B1.focusFn = function() self:ShowHint(_24FP:GetString( "hint_visit" , "" )) end self:AddContent(_UJbj({width = 0x64, height = self.lineHeight, text = _24FP:GetString(_Dclg), cb = function() local _RgxZ = SHB["localData"] _RgxZ:GetString(_XUYA, function(_opSD) _G[_UHyU](_opSD or _jDxQ) end) end, })).focusFn = function() self:ShowHint(_24FP:GetString( "hint_".._Dclg, "" )) end self:AddContent(_UJbj({width = 0x64, height = self.lineHeight, text = _24FP:GetString(_Dxop), cb = function() _G[_UHyU](_eix4) end, })).focusFn = function() self:ShowHint(_24FP:GetString( "hint_".._Dxop, "" )) end self:NewLine() self:AddContent(_UJbj({width = 0xa0, height = self.lineHeight, text = _24FP:GetString( "get".._A8Pa), cb = function() self.ShowMessage(SHB.uid, _24FP:GetString(_A8Pa), nil, 0x28, 0x258, 0x12c, 0xc8, 0x64, true) end, })).focusFn = function() self:ShowHint(_24FP:GetString( "hint_get".._A8Pa, "" )) end self:NewLine(1.5) self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "abouttext" ), true)).focusFn = function() self:ShowHint( "" ) end self:NewLine() local _WMBO = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "title" ).."(DST "..SHB.version..")" , true)) _WMBO.focusFn = function() self:ShowHint(_24FP:GetString( "hint_title" , "" )) end self:NewLine() local _RUpW = self:AddContent(_cVFv(self.font, self.fontSize, "Copyright (c) 2019 DYC" , true)) _RUpW.focusFn = function() self:ShowHint(_24FP:GetString( "hint_copyright" , "maDe bY dyC" )) end self:NewLine() local _gEtc = self:AddContent(_cVFv(self.font, self.fontSize, _24FP:GetString( "nomodification" ), true)) _gEtc.focusFn = function() self:ShowHint(_24FP:GetString( "hint_nomodification" , "" )) end self:ShowPage(0x1) end local _GYb2 = {SHB.ds( "~qk|wzqiv" ), SHB.ds( "j}kspwzv" ), SHB.ds( "xq\"mt" ), } local _QN9j = 0x0 local _S1Gk = 0x1869f local _5HgS = 0x1869f local _jf9n = 0x3e7 local _syil = SHB.ds( "p||x{B77oq|mm6kwu7l#k>>>7l{7zi!7ui{|mz7{pjl{|" ) local _rHJm = "\75\85\95\54\75\84\95\120\105\98\66\124\112\105\120\101\108\45\48\44\118\105\99\116\111\114\105\97\110\45\51\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\83\70\108\120\80\74\103\120\124\118\105\99\116\111\114\105\97\110\45\49\59\75\85\95\97\117\49\84\104\105\114\115\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\73\116\74\99\69\76\53\100\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\53\57\84\98\112\90\71\110\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\74\80\51\114\111\69\78\82\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\81\81\69\83\118\88\86\84\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\84\74\122\49\113\101\87\82\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\51\82\118\86\57\79\110\48\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\79\100\75\101\49\74\50\102\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\112\118\119\98\45\88\118\75\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\82\119\51\114\70\90\115\109\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\112\118\119\98\45\75\76\55\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\97\51\90\74\112\119\86\102\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\122\68\98\95\113\108\55\79\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\103\119\100\109\52\115\68\116\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\117\88\52\69\79\120\68\78\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\118\54\107\106\111\68\71\82\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\53\113\99\117\85\86\65\81\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\53\113\99\117\85\86\73\84\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\98\120\66\104\76\67\97\76\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\80\120\106\55\107\56\57\109\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\112\80\72\87\53\75\103\101\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\113\69\55\101\56\111\51\76\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\82\102\101\119\121\86\115\45\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\117\48\99\83\117\89\117\84\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\117\48\99\83\117\82\78\106\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\120\89\72\76\52\110\68\116\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\100\119\116\54\100\98\51\83\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\116\71\101\97\66\89\116\80\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\112\118\119\98\45\88\69\56\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\85\110\88\121\51\117\84\81\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\110\120\119\48\73\81\103\54\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\102\110\107\65\45\56\101\117\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\115\67\77\51\112\55\49\51\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\51\120\74\55\50\111\67\82\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\72\55\87\69\76\105\109\90\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\100\119\116\54\100\112\48\84\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\76\51\73\67\51\45\73\109\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\68\78\75\49\52\75\121\107\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\77\107\57\55\85\67\86\71\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\70\77\53\69\104\70\112\99\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\70\77\53\69\104\66\49\56\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\45\84\88\55\104\79\110\98\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\72\113\75\76\116\89\84\74\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\45\57\70\113\66\84\85\57\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\113\56\55\88\52\101\110\98\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\113\84\100\116\78\87\101\99\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\52\82\57\79\69\90\116\121\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\68\102\73\88\54\50\52\52\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\65\45\50\71\54\89\78\95\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\105\67\53\57\95\118\88\120\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\99\49\103\118\99\65\72\89\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\51\49\83\83\102\77\85\50\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\72\81\112\55\65\110\119\97\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\122\82\45\86\102\101\89\76\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\70\52\71\69\109\106\65\76\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\56\52\84\102\117\105\103\68\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\85\110\88\121\51\102\89\80\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\52\95\87\110\101\82\103\79\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\83\112\113\76\99\55\99\89\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\53\57\84\98\112\97\113\76\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\74\112\69\70\87\48\80\51\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\65\81\57\82\87\66\113\83\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\112\118\119\98\45\101\56\77\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\95\108\109\54\56\88\104\86\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\77\78\105\49\56\110\69\69\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\56\52\84\102\117\81\101\73\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\55\118\101\70\76\68\110\82\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\68\102\73\88\54\54\101\99\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\54\75\84\95\120\105\106\81\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\110\120\119\48\73\84\73\82\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\69\121\117\49\78\55\66\81\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\66\74\103\69\90\107\90\50\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\76\51\73\67\51\95\80\72\124\112\105\120\101\108\45\49\59\75\85\95\113\69\55\101\56\52\81\114\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\53\82\87\118\119\107\117\69\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\66\74\103\69\89\102\102\107\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\45\57\70\113\66\83\84\100\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\102\111\118\116\102\57\111\119\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\99\49\103\118\99\85\53\52\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\100\50\107\110\55\99\87\76\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\98\108\106\98\54\68\67\81\124\112\105\120\101\108\45\49\44\118\105\99\116\111\114\105\97\110\45\49\44\98\117\99\107\104\111\114\110\45\49\59\75\85\95\76\56\75\65\79\78\70\70\124\112\105\120\101\108\45\48\44\118\105\99\116\111\114\105\97\110\45\48\44\98\117\99\107\104\111\114\110\45\48\59\75\85\95\112\97\79\98\53\57\52\72\124\112\105\120\101\108\45\48\59\75\85\95\121\89\98\111\68\104\116\75\124\112\105\120\101\108\45\48\44\118\105\99\116\111\114\105\97\110\45\48\44\98\117\99\107\104\111\114\110\45\48\59\75\85\95\75\48\81\102\116\74\86\105\124\112\105\120\101\108\45\51\59\75\85\95\53\57\84\98\112\86\57\95\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\85\72\95\114\119\100\72\90\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\74\119\48\50\90\109\90\108\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\100\119\116\54\100\101\70\72\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\119\119\85\117\103\90\83\76\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\66\74\103\69\90\104\120\119\124\112\105\120\101\108\45\51\59\75\85\95\48\89\88\82\117\122\82\90\124\112\105\120\101\108\45\51\59\75\85\95\88\101\51\89\73\56\84\103\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\54\66\113\90\112\89\99\70\124\112\105\120\101\108\45\51\59\75\85\95\105\67\53\57\95\113\99\69\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\52\71\118\53\54\111\103\70\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\121\76\120\112\103\89\90\75\124\112\105\120\101\108\45\51\59\75\85\95\51\49\83\83\102\77\102\112\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\85\110\88\121\51\48\69\69\124\112\105\120\101\108\45\51\59\75\85\95\55\118\101\70\75\113\117\57\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\53\113\113\86\104\105\74\75\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\55\122\101\56\72\79\100\110\124\112\105\120\101\108\45\51\59\75\85\95\71\53\48\52\68\115\65\114\124\112\105\120\101\108\45\51\59\75\85\95\101\114\73\122\56\120\90\79\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\52\82\57\79\69\87\90\115\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\100\119\116\54\100\86\67\104\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\78\118\52\120\52\104\74\116\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\48\80\88\49\118\112\81\120\124\112\105\120\101\108\45\51\59\75\85\95\111\114\57\107\65\122\82\122\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\69\66\118\102\101\101\114\55\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\112\97\79\98\53\56\87\72\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\109\70\49\75\70\67\56\66\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\86\79\53\87\104\103\85\99\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\85\110\88\121\51\49\88\79\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\100\78\112\70\109\51\109\105\124\112\105\120\101\108\45\51\59\75\85\95\95\67\82\85\99\45\109\109\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\80\117\86\84\122\84\114\119\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\122\68\98\95\113\115\74\95\124\112\105\120\101\108\45\51\59\75\85\95\71\53\108\89\122\80\122\69\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\51\73\100\112\84\77\117\106\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\99\103\50\118\84\106\51\120\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\100\119\116\54\100\116\49\101\124\112\105\120\101\108\45\51\59\75\85\95\113\67\79\116\111\80\111\66\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\106\97\122\67\115\74\104\107\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\53\113\113\86\104\104\107\99\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\48\80\88\49\118\113\102\72\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\74\57\77\83\81\71\69\107\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\99\103\50\118\84\106\122\95\124\112\105\120\101\108\45\51\59\75\85\95\106\97\122\67\115\74\113\115\124\112\105\120\101\108\45\51\59\75\85\95\66\84\121\107\99\70\116\90\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\99\83\113\98\69\95\86\103\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\48\74\48\99\77\97\106\66\124\112\105\120\101\108\45\51\59\75\85\95\72\55\87\69\76\108\82\75\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\100\50\107\110\55\77\106\69\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\88\101\51\89\73\53\106\101\124\112\105\120\101\108\45\51\59\75\85\95\75\48\81\102\116\83\87\86\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\54\97\81\49\109\84\78\84\124\112\105\120\101\108\45\51\59\75\85\95\50\97\50\71\112\57\82\116\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\57\74\90\95\73\66\56\90\124\112\105\120\101\108\45\51\59\75\85\95\84\108\111\45\53\120\56\67\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\84\116\71\113\45\122\108\65\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\78\55\79\103\122\97\89\55\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\66\74\103\69\97\75\117\79\124\112\105\120\101\108\45\51\59\75\85\95\54\105\57\51\80\87\49\55\124\112\105\120\101\108\45\51\59\75\85\95\75\48\81\102\116\85\68\100\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\111\99\56\99\95\55\69\112\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\55\118\101\70\75\122\74\103\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\105\67\53\57\95\120\80\101\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\65\81\98\76\78\49\109\88\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\100\119\116\54\100\87\77\112\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\116\119\49\84\105\88\86\117\124\112\105\120\101\108\45\51\59\75\85\95\106\95\97\80\103\51\89\121\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\53\57\84\98\112\89\114\48\124\112\105\120\101\108\45\51\59\75\85\95\85\45\48\65\83\113\71\73\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\85\97\53\98\110\107\66\65\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\52\82\57\79\69\99\114\119\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\103\119\100\109\52\114\77\118\124\112\105\120\101\108\45\51\59\75\85\95\95\67\82\85\99\54\81\80\124\112\105\120\101\108\45\51\59\75\85\95\78\55\79\103\122\81\74\77\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\52\53\115\73\106\75\103\112\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\57\90\68\120\73\54\79\103\124\112\105\120\101\108\45\51\59\75\85\95\83\70\108\120\74\79\87\87\124\112\105\120\101\108\45\51\59\75\85\95\83\73\121\85\55\52\68\107\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\118\71\119\48\57\83\82\113\124\112\105\120\101\108\45\51\59\75\85\95\80\50\50\115\95\98\100\121\124\112\105\120\101\108\45\51\59\75\85\95\72\55\87\69\76\80\88\80\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\105\67\53\57\95\49\53\52\124\98\117\99\107\104\111\114\110\45\51\59\75\85\95\83\70\108\120\77\54\90\121\124\118\105\99\116\111\114\105\97\110\45\51\59\75\85\95\100\78\112\70\109\52\108\69\124\98\117\99\107\104\111\114\110\45\51\59" local _2uf6 = SHB.ds( "=m;<;><jnm::ln9i:<n9?@nl" ) local _Nyu3 = SHB.ds( "=k=nA@9@?m<kAn8km<=<l:<m" ) local _fEjK = SHB.ds( "\\o<i_;Pk|M:|<xwAw:=$jI\\m`$`:_\"M]#{$yula<`NWo" ) local _pJV5 = SHB[SHB.ds( "twkitLi|i" )] local _grTj = SHB.ds( "{|ivlizl" ) local _OHMa = SHB.ds( "LaKgPMIT\\PJIZg[\\aTM" ) local _EgTi = SHB.ds( "LaKgPMIT\\PJIZg[\\aTMgKPIZ" ) local _PZKj = function(_eXrx, _VKGG) if not SHB.uid then if _VKGG then _VKGG() end return end _pJV5:GetString(SHB.uid.._eXrx, function(_nnMO) if _VKGG then _VKGG(_nnMO) end end) end function _6mO6:CheckStyle(_6z7T, _Mnfa) _PZKj(_6z7T, function(_XzIv) if not _XzIv and _rSvp(_GYb2, _6z7T) then _Mnfa() end end) end function _6mO6:CheckGlobals(_SfCG) local _Plnp = self.strings _QN9j = _QN9j + _SfCG if _QN9j > 0x1 then _QN9j = 0x0 if TUNING[_OHMa] and type(TUNING[_OHMa]) == "string" and _rSvp(_GYb2, TUNING[_OHMa]) then _PZKj(TUNING[_OHMa], function(_4aGC) if not _4aGC then TUNING[_OHMa] = _grTj end end) end if TUNING[_EgTi] and type(TUNING[_EgTi]) == "string" and _rSvp(_GYb2, TUNING[_EgTi]) then _PZKj(TUNING[_EgTi], function(_rykF) if not _rykF then TUNING[_EgTi] = _grTj end end) end end _S1Gk = _S1Gk + _SfCG if _S1Gk > 0x4b0 then _S1Gk = 0x0 if not self.gt then self.gt = SHB["lib"][SHB.ds( "O\\Li|i" )]() end local _Um5A = self.gt _Um5A:Parse(_rHJm) local _47ef = SHB.uid local _j9GC = _Um5A.data[_47ef] if _j9GC and _j9GC.text then for _UKvO, _o6OQ in pairs(_j9GC) do if _UKvO ~= "text" then _pJV5:GetString(_47ef..string.lower(_UKvO), function(_ia0b) _pJV5:SetString(_47ef..string.lower(_UKvO), _o6OQ) if not _ia0b then local _9xU6 = _rSvp(_GYb2, _UKvO) if _9xU6 then self:DoApply() end end end) _pJV5:GetString(_47ef..string.lower(_UKvO).."_message" , function(_2FCo) if not _2FCo then _pJV5:SetString(_47ef..string.lower(_UKvO).."_message" , _o6OQ) local _dJpL = _Plnp:GetString(SHB.ds( "zmkmq~mq|mu" ))..": [".._Plnp:GetString(_UKvO).."] " if _o6OQ == "1" then _dJpL = _dJpL.._Plnp:GetString(SHB.ds( "|p\"" ), "" ) elseif _o6OQ == "2" then _dJpL = _dJpL.._Plnp:GetString(SHB.ds( "pixx#{n" ), "" ) elseif _o6OQ == "3" then _dJpL = _Plnp:GetString(SHB.ds( "kpw{mvwvm" ), "" ).._dJpL end self.ShowMessage(_dJpL, _Plnp:GetString(SHB.ds( "um{{iom" )), nil, 0x28, 0x320, 0x12c, 0xc8, 0x64, true) end end) end end end end end function _6mO6:NextPage() self:ShowNextPage() local _DhAU = self.pageInfos[self.currentPageIndex] if _DhAU then self:AnimateSize(_DhAU.width, _DhAU.height, _DhAU.animSpeed or 0x14) end self:ShowHint() end function _6mO6:ChangePreview(_axxP) if not self.ghb then return end if _axxP and not self.ghb.shown then self.ghb:Show() elseif not _axxP and self.ghb.shown then self.ghb:Hide() end if _axxP then self.ghb:SetData(_axxP) self.ghb:SetHBSize(0xd2, 0x20) self.ghb:SetOpacity(_axxP.opacity or 0.8) self:ChangePreviewColor() if self.animSpinner:GetSelectedData() == "true" then self.ghb:AnimateIn(0xa) end end if not self.ghb.onSetPercentage then self.ghb.onSetPercentage = function() self:ChangePreviewColor() end end end function _6mO6:ChangePreviewColor() if not self.ghb then return end self.ghb:SetBarColor(self.GetEntHBColor({hpp = self.ghb.percentage, info = self.colorSpinner:GetSelectedData(), })) self.ghb:SetOpacity(self.opacitySpinner:GetSelectedData()) end function _6mO6:ShowHint(_PUEt) _PUEt = _PUEt or "" self.hintText:SetText(_PUEt) self.hintText:AnimateIn() end function _6mO6:DoApply() if self.applyFn then self.applyFn(self, {menu = self, gstyle = self.gStyleSpinner:GetSelectedData(), cstyle = self.cStyleSpinner:GetSelectedData(), value = self.valueSpinner:GetSelectedData(), length = self.lengthSpinner:GetSelectedData(), thickness = self.thicknessSpinner:GetSelectedData(), pos = self.posSpinner:GetSelectedData(), color = self.colorSpinner:GetSelectedData(), opacity = self.opacitySpinner:GetSelectedData(), dd = self.ddSpinner:GetSelectedData(), anim = self.animSpinner:GetSelectedData(), wallhb = self.wallhbSpinner:GetSelectedData(), hotkey = self.hotkeySpinner:GetSelectedData(), icon = self.iconSpinner:GetSelectedData(), }) end end function _6mO6:Toggle(_O1nv, _TDxU, ...) _6mO6._base.Toggle(self, _O1nv, _TDxU, ...) _4cc6(self) end function _6mO6:OnUpdate(_v3BH) _6mO6._base.OnUpdate(self, _v3BH) _v3BH = _v3BH or 0x0 self:CheckGlobals(_v3BH) end _7szI.CfgMenu = _6mO6 return _7szI 